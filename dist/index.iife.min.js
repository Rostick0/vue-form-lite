!function(e,n){"use strict";var r=function(){return r=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var u in n=arguments[r])Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u]);return e},r.apply(this,arguments)};function t(e,n,r,t){return new(r||(r=Promise))((function(u,o){function l(e){try{a(t.next(e))}catch(e){o(e)}}function i(e){try{a(t.throw(e))}catch(e){o(e)}}function a(e){var n;e.done?u(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(l,i)}a((t=t.apply(e,n||[])).next())}))}function u(e,n){var r,t,u,o,l={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(l=0)),l;)try{if(r=1,t&&(u=2&i[0]?t.return:i[0]?t.throw||((u=t.return)&&u.call(t),0):t.next)&&!(u=u.call(t,i[1])).done)return u;switch(t=0,u&&(i=[2&i[0],u.value]),i[0]){case 0:case 1:u=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,t=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(u=l.trys,(u=u.length>0&&u[u.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){l.label=i[1];break}if(6===i[0]&&l.label<u[1]){l.label=u[1],u=i;break}if(u&&l.label<u[2]){l.label=u[2],l.ops.push(i);break}u[2]&&l.ops.pop(),l.trys.pop();continue}i=n.call(e,l)}catch(e){i=[6,e],t=0}finally{r=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}"function"==typeof SuppressedError&&SuppressedError;var o=function(e){return!(Object.keys(e).length>0)};e.default=function(e){for(var l=e.state,i=e.rules,a=e.debounceMs,c=n.ref({touched:!1}),f=n.ref({}),v=n.computed((function(){return r(r({},c.value),{errors:f.value})})),s=function(e){var r,t,u;n.watch((function(){return l.value[e]}),(r=function(n){var r,t,u;if((null==i?void 0:i[e])&&!o(null==i?void 0:i[e])){(null===(r=f.value)||void 0===r?void 0:r[e])&&delete f.value[e];for(var a=0,c=Object.keys(i[e]);a<c.length;a++){var v=c[a];if(null===(t=f.value)||void 0===t?void 0:t[l.value[e]])return;var s=null===(u=i[e])||void 0===u?void 0:u[v](n);!0!==s&&(f.value[e]=s)}}},void 0===(t=a)&&(t=200),function(){for(var e=this,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];clearTimeout(u),u=setTimeout((function(){return r.apply(e,n)}),t)}))},d=0,p=Object.keys(l.value);d<p.length;d++){s(p[d])}return{$valid:v,errors:f,setError:function(e,n){f.value[e]=n},setErrors:function(e){f.value=r(r({},f.value),e)},clearError:function(e){var n,r=e;(null===(n=f.value)||void 0===n?void 0:n[r])&&delete f.value[r]},clearErrors:function(){f.value={}},handleSubmit:function(e,n){return function(r){return t(void 0,void 0,void 0,(function(){return u(this,(function(t){return r.preventDefault(),o(f.value)?(e(l.value),[2]):(null==n||n(l.value,f),[2])}))}))}}}},Object.defineProperty(e,"__esModule",{value:!0})}(this["vue-form-lite"]=this["vue-form-lite"]||{},vue);
